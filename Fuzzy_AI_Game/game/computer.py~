import pyglet, math
from pyglet.window import key
import physicalobject, resources, fuzzpaddle, util

class Computer(physicalobject.PhysicalObject):
    
    def __init__(self, ball_object, *args, **kwargs):
        super(Computer, self).__init__(img=resources.paddle, *args, **kwargs)
        self.thrust = 300.0
        self.key_handler = key.KeyStateHandler()
        self.event_handlers = [self, self.key_handler]

    def update(self, ball_object, dt):
        super(Computer, self).update(dt)
        
        # Tying the ball information into the computer for
        # situational awareness. This may or may not work... we'll
        # see?
        self.the_ball = ball_object      
 
        # Computer is a lot like player, but instead of using the    
        # key handler to control movement we're using a fuzzy system 
        # from "fuzzpaddle".
        self.v_y = (handle_movement(self, the_ball) * self.thrust) * dt

    def handle_movement(self, the_ball)
        """ Figures out where the ball will be, and then calls the 
        cascading set of fuzzy sysetms to determine where the paddle 
        should go"""
        
        # Figure out where the ball will intercept the paddle's y-
        # axis and then determine how far away the center of the 
        # paddle is from that point.
        yint = util.calc_intercept(the_ball, self)
        difference = self.y - yint
        
                



